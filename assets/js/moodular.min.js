!function($){"use strict";var Moodular=function(content,opts,ctrls,fxs){this.version="4.5",this.opts=opts,this.ctrls=ctrls,this.fxs=fxs,this.$element=$(content),this.init()};Moodular.prototype={init:function(){var that=this;this.current=0,this.next=-1,this.items=$(">"+this.opts.selector,this.$element),this.opts.calcHeight&&$(">img",this.items.eq(0)).eq(0).on("load",function(){var h=$(this).height();that.$element.height(h),that.items.height(h)}),this.nbItems=this.items.length,this.$element.css("position","relative"),this.items.css({position:"absolute",top:0,left:0}),this.$element.on("moodular.prev",function(){-1==that.next&&(that.next=that.current-that.opts.step,that.next<0&&(that.next+=that.nbItems))}).on("moodular.next",function(){-1==that.next&&(that.next=(that.current+that.opts.step)%that.nbItems)}).on("moodular.prev moodular.next",function(){that.stop(),that.items.removeClass("active").eq(that.next).addClass("active")}).on("moodular.end",function(){that.opts.timer&&(that.timer=setTimeout(function(){that.start()},that.opts.timer))});var fxs=this.opts.effects.split(" ");for(var i in fxs)$.isFunction(this.fxs[fxs[i]])&&this.fxs[fxs[i]](this);var ctrls=this.opts.controls.split(" ");for(var i in ctrls)$.isFunction(this.ctrls[ctrls[i]])&&this.ctrls[ctrls[i]](this);this.$element.on("moodular.prev moodular.next",function(){that.current=that.next,that.next=-1,that.speedTimer=setTimeout(function(){that.$element.trigger("moodular.end")},that.opts.speed)}),this.items.eq(0).addClass("active"),this.opts.timer&&(this.timer=setTimeout(function(){that.start()},this.opts.timer))},start:function(){this.$element.trigger("moodular.next")},stop:function(){clearTimeout(this.timer),clearTimeout(this.speedTimer)},moveTo:function(to,pn){var n=to%this.nbItems;n!=this.current&&(this.next=n,this.$element.trigger("moodular."+("prev"==pn?"prev":"next")))}},$.fn.moodular=function(option,param1,param2){return this.each(function(){var $this=$(this),data=$this.data("moodular");data||$this.data("moodular",data=new Moodular(this,$.extend({},$.fn.moodular.defaults,$this.data(),"object"==typeof option&&option),$.extend({},$.fn.moodular.controls),$.extend({},$.fn.moodular.effects))),"string"==typeof option&&data[option](param1,param2)})},$.fn.moodular.defaults={speed:500,timer:0,step:1,effects:"",controls:"",easing:"",selector:"li",queue:!1,calcHeight:!1},$.fn.moodular.controls={},$.fn.moodular.effects={}}(window.jQuery),function($){$.extend($.fn.moodular.controls,{buttons:function(m){"undefined"==typeof m.opts.view&&(m.opts.view=1),m.nbItems<=m.opts.view&&(m.opts.buttonPrev.hide(),m.opts.buttonNext.hide()),m.opts.buttonPrev.on("click",function(){return m.$element.trigger("moodular.prev"),!1}),m.opts.buttonNext.on("click",function(){return m.$element.trigger("moodular.next"),!1})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{keys:function(m){"undefined"==typeof m.opts.keyPrev&&(m.opts.keyPrev=37),"undefined"==typeof m.opts.keyNext&&(m.opts.keyNext=39),$(document).on("keydown",function(event){return event.keyCode==m.opts.keyPrev?(m.$element.trigger("moodular.prev"),!1):event.keyCode==m.opts.keyNext?(m.$element.trigger("moodular.next"),!1):void 0})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{nav:function(m){"undefined"==typeof m.opts.navView&&(m.opts.navView=m.nbItems),"undefined"==typeof m.opts.navEffects&&(m.opts.navEffects=""),"undefined"==typeof m.opts.navControls&&(m.opts.navControls=""),"undefined"==typeof m.opts.navButtonPrev&&(m.opts.navButtonPrev=""),"undefined"==typeof m.opts.navButtonNext&&(m.opts.navButtonNext=""),"undefined"==typeof m.opts.navSelector&&(m.opts.navSelector="li"),m.opts.navWrapper.moodular({timer:m.opts.timer,view:m.opts.navView,effects:m.opts.navEffects,controls:m.opts.navControls,buttonPrev:m.opts.navButtonPrev,buttonNext:m.opts.navButtonNext,speed:m.opts.speed}),m.opts.timer=0;var n=m.opts.navWrapper.data("moodular");n.$element.on({"moodular.next":function(){m.next=n.current,m.$element.trigger("moodular.next")},"moodular.prev":function(){m.next=n.current,m.$element.trigger("moodular.prev")}}),$(m.opts.navSelector,m.opts.navWrapper).each(function(i){$(this).data("index",i)}).on({mouseenter:function(){n._current=n.current,n.stop(),$(">"+m.opts.navSelector,m.opts.navWrapper).removeClass("active"),$(this).addClass("active"),m.next=$(this).data("index");var _speed=m.opts.speed;m.opts.speed=0,m.$element.trigger("moodular.next"),m.opts.speed=_speed},mouseleave:function(){n.current=n._current,n.next=-1,n.start()}})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{pagination:function(m){for(var lis="",i=0;i<m.nbItems;i++)lis+='<li><a href="#" data-index="'+i+'">'+(i+1)+"</a></li>";m.opts.pagination.append(lis),$(">li>a",m.opts.pagination).on("click",function(){return $(this).parent().hasClass("active")||m.moveTo($(this).data("index"),"next"),!1}),$(">li",m.opts.pagination).eq(0).addClass("active"),m.$element.on("moodular.prev moodular.next",function(){$(">li",m.opts.pagination).removeClass("active").eq(m.next).addClass("active")})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{startOnMouseOver:function(m){var timer=m.opts.timer,mouseon=!1;m.opts.timer=0,m.$element.on({mouseenter:function(){mouseon||(m.opts.timer=timer,mouseon=!0,m.$element.trigger("moodular.next"))},mouseleave:function(){m.opts.timer=0,mouseon=!1,m.stop()}})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{stopOnMouseOver:function(m){m.$element.on({mouseenter:function(){m.stop()},mouseleave:function(){m.start()}})}})}(window.jQuery),function($){$.extend($.fn.moodular.controls,{touch:function(m){var touchb=null,touche=null;m.$element.on({touchstart:function(event){var e=event.originalEvent;touchb=e.targetTouches[0].pageX},touchmove:function(event){event.preventDefault();var e=event.originalEvent;touche=e.targetTouches[0].pageX},touchend:function(){return touchb>touche?m.$e.trigger("moodular.next"):touche>touchb&&m.$e.trigger("moodular.prev"),touchb=null,touche=null,!1}})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{animate:function(m){var a=function(k){var n=$("[data-mood]",m.items.eq(k));n.css("margin",0).each(function(){var ml,mt,$t=$(this),b=$t.data("mood-animation");$t.data("mood-ghost").css("opacity",0),"undefined"==typeof b.distance&&(b.distance="100%"),b.effects.indexOf("left")>=0&&(ml=b.distance),b.effects.indexOf("right")>=0&&(ml="-"+b.distance),b.effects.indexOf("top")>=0&&(mt=b.distance),b.effects.indexOf("bottom")>=0&&(mt="-"+b.distance);var p=$t.data("mood-ghost").position();$t.stop().show().css({left:p.left,top:p.top,opacity:b.effects.indexOf("fade")>=0?0:1,"margin-left":ml,"margin-top":mt}).data("mood-ghost").css("visibility","hidden"),clearTimeout($t.data("mood-timer")),$t.data("mood-timer",setTimeout(function(){$t.animate({margin:0,opacity:1},m.opts.speed*b.speed,b.easing,function(){$t.hide(),$t.data("mood-ghost").css("visibility","visible").css("opacity",1)})},b.delay))})};$("[data-mood]",m.$element).each(function(){var $t=$(this),$c=$t.clone(),b=($t.position(),$t.data("mood").split(";")),c={};$t.removeAttr("data-mood");for(var i in b){var d=b[i].split(":");c[$.trim(d[0])]=$.trim(d[1])}"undefined"==typeof c.speed&&(c.speed=1),c.speed<=0&&(c.speed=1),"undefined"==typeof c.effects&&(c.effects="left"),"undefined"==typeof c.easing&&(c.easing=""),"undefined"==typeof c.delay&&(c.delay=0),$c.css({position:"absolute",margin:0}).data({"mood-animation":c,"mood-ghost":$t,"mood-timer":null}),$t.parent().append($c)}),a(m.current),m.$element.on("moodular.prev moodular.next",function(){a(m.next)})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{bottom:function(m){"undefined"==typeof m.opts.view&&(m.opts.view=1);var percent=100/m.opts.view;m.items.css("top","100%").height(percent+"%");for(var i=0;i<m.opts.view+m.opts.step;i++)m.items.eq(i).css("top",100-(i+1)*percent+"%");var s="="+percent*m.opts.step+"%";m.$element.on("moodular.next",function(){if(1==m.opts.view)m.items.eq(m.current).css("top",0).animate({top:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("top","100%")}}),m.items.eq(m.next).css("top","-100%").animate({top:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems)for(var i=0-m.opts.step;i<m.opts.view+m.opts.step;i++)m.items.eq((m.current+i)%m.nbItems).css("top",100-(i+1)*percent+"%").animate({top:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}).on("moodular.prev",function(){if(1==m.opts.view)m.items.eq(m.current).css("top",0).animate({top:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("top","-100%")}}),m.items.eq(m.next).css("top","100%").animate({top:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems){for(var i=0;i<m.opts.view;i++)m.items.eq((m.current+i)%m.nbItems).css("top",100-(i+1)*percent+"%").animate({top:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});for(var i=1;i<=m.opts.step;i++)m.items.eq((m.current-i)%m.nbItems).css("top",100+(i-1)*percent+"%").animate({top:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{fade:function(m){m.items.css({opacity:0,"z-index":1}),"undefined"==typeof m.opts.view&&(m.opts.view=1);for(var i=0;i<m.opts.view;i++)m.items.eq(i).css({opacity:1,"z-index":2});m.$element.on("moodular.prev moodular.next",function(){for(var i=0;i<m.opts.view;i++)m.items.eq((m.current+i)%m.nbItems).stop().css({opacity:1,"z-index":2}).animate({opacity:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("z-index",1)}});for(var i=0;i<m.opts.view;i++)m.items.eq((m.next+i)%m.nbItems).stop().css({opacity:1,"z-index":1}).animate({opacity:1},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("z-index",2)}})})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{left:function(m){"undefined"==typeof m.opts.view&&(m.opts.view=1);var percent,s,v,a={duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue};m.$element.on("moodular.init",function(){if("object"==typeof m.opts.view){var w=$(window).width();for(i in m.opts.view)w>i&&(v=m.opts.view[i])}else v=m.opts.view;percent=100/v,m.items.css("left","100%").width(percent+"%");for(var i=0;i<v+m.opts.step;i++)m.items.eq(i).css("left",i*percent+"%");s="="+percent*m.opts.step+"%"}).on("moodular.next",function(){if(1==v)m.items.eq(m.current).css("left",0).animate({left:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("left","-100%")}}),m.items.eq(m.next).css("left","100%").animate({left:"0%"},a);else if(v<m.nbItems)for(var i=0;i<v+m.opts.step;i++)m.items.eq((m.current+i)%m.nbItems).css("left",i*percent+"%").animate({left:"-"+s},a)}).on("moodular.prev",function(){if(1==v)m.items.eq(m.current).css("left",0).animate({left:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("left","100%")}}),m.items.eq(m.next).css("left","-100%").animate({left:"0%"},a);else if(v<m.nbItems){for(var i=0;v>i;i++)m.items.eq((m.current+i)%m.nbItems).css("left",i*percent+"%").animate({left:"+"+s},a);for(var i=1;i<=m.opts.step;i++)m.items.eq((m.current-i)%m.nbItems).css("left",-i*percent+"%").animate({left:"+"+s},a)}}),$(window).on("resize.moodular",function(){m.$element.trigger("moodular.init")}).trigger("resize.moodular")}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{mosaic:function(m){"undefined"==typeof m.opts.slices&&(m.opts.slices=[6,6]),"undefined"==typeof m.opts.mode&&(m.opts.mode="random"),m.items.hide().eq(0).show();var h=m.opts.slices[1],v=m.opts.slices[0],_w=m.$element.width(),_h=m.$element.height(),W=_w/v,H=_h/h;m.$element.on("moodular.prev moodular.next",function(){$("#mosaic_wrapper",m.$element).remove(),m.items.hide().eq(m.next).show().css("z-index",1);var C=m.items.eq(m.current).html();c="";for(var i=0;v>i;i++)for(var j=0;h>j;j++)c+='<div style="position:absolute;left:'+i*W+"px;top:"+j*H+"px;width:"+W+"px;height:"+H+'px;overflow:hidden;"><div style="margin-left:-'+i*W+"px;margin-top:-"+j*H+"px;width:"+_w+"px;height:"+_h+'px">'+C+"</div></div>";m.$element.prepend("<"+m.opts.selector+' id="mosaic_wrapper" style="z-index:2;position:absolute;">'+c+"</div>"),$("#mosaic_wrapper>div",m.$element).css("opacity",1).each(function(k){var r,$this=$(this),n=h*v;"random"==m.opts.mode?r=.5*m.opts.speed*Math.ceil(Math.random()*(n-1))/n:"crawler"==m.opts.mode&&(r=.5*m.opts.speed*k/n),setTimeout(function(){$this.animate({opacity:0},r,m.opts.easing)},r)}),clearTimeout(m.mTimer),m.mTimer=setTimeout(function(){$("#mosaic_wrapper",m.$element).remove()},m.opts.speed)})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{pongy:function(m){var addItems=function(indexFrom,indexTo,$to){$(".pongied",$to).remove(),$to.append(m.items.eq(indexFrom).clone().css({opacity:1,"z-index":2}).addClass("pongied")).append(m.items.eq(indexTo).clone().css({opacity:0,"z-index":1}).addClass("pongied"))},animIn=function($element){$(".pongied",$element).eq(0).stop().animate({opacity:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).remove}})},animOut=function($element){$(".pongied",$element).eq(1).stop().animate({opacity:1},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).remove}})};addItems(m.current-1,m.current,m.opts.pongyLeft),addItems(m.current+1,m.current+2,m.opts.pongyRight),m.$element.on("moodular.prev moodular.next",function(){addItems((m.current-1)%m.nbItems,(m.next-1)%m.nbItems,m.opts.pongyLeft),addItems((m.current+1)%m.nbItems,(m.next+1)%m.nbItems,m.opts.pongyRight),animIn(m.opts.pongyLeft),animIn(m.opts.pongyRight),animOut(m.opts.pongyLeft),animOut(m.opts.pongyRight)})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{resize:function(m){var $img=$("img:first",m.$element);"undefined"!=typeof m.opts.calcHeight&&(m.opts.ratio=parseInt($img.attr("width"))/parseInt($img.attr("height"))),"undefined"==typeof m.opts.ratio&&(m.opts.ratio=0),m.resTimer=null,$(window).on("resize.moodular",function(){clearTimeout(m.resTimer),m.resTimer=setTimeout(function(){if(m.opts.ratio){var h=parseInt(m.$element.width())/m.opts.ratio;m.$element.height(h),m.items.height(h)}},100)}).trigger("resize.moodular")}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{right:function(m){"undefined"==typeof m.opts.view&&(m.opts.view=1);var percent=100/m.opts.view;m.items.css("left","100%").width(percent+"%");for(var i=0;i<m.opts.view+m.opts.step;i++)m.items.eq(i).css("left",100-(i+1)*percent+"%");var s="="+percent*m.opts.step+"%";m.$element.on("moodular.next",function(){if(1==m.opts.view)m.items.eq(m.current).css("left",0).animate({left:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("left","100%")}}),m.items.eq(m.next).css("left","-100%").animate({left:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems)for(var i=0-m.opts.step;i<m.opts.view+m.opts.step;i++)m.items.eq((m.current+i)%m.nbItems).css("left",100-(i+1)*percent+"%").animate({left:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}).on("moodular.prev",function(){if(1==m.opts.view)m.items.eq(m.current).css("left",0).animate({left:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("left","-100%")}}),m.items.eq(m.next).css("left","100%").animate({left:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems){for(var i=0;i<m.opts.view;i++)m.items.eq((m.current+i)%m.nbItems).css("left",100-(i+1)*percent+"%").animate({left:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});for(var i=1;i<=m.opts.step;i++)m.items.eq((m.current-i)%m.nbItems).css("left",100+(i-1)*percent+"%").animate({left:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{slide:function(m){"undefined"==typeof m.opts.direction&&(m.opts.direction="left"),m.items.css("z-index",1).eq(0).css("z-index",2);var a={};"top"==m.opts.direction?a.top="-100%":"bottom"==m.opts.direction?a.top="100%":a.left="right"==m.opts.direction?"100%":"-100%",m.$element.on("moodular.next",function(){m.items.eq(m.next).css("z-index",2),m.items.eq(m.current).css("z-index",3).animate(a,{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css({"z-index":1,left:0,top:0})}})}),m.$element.on("moodular.prev",function(){m.items.css("z-index",1),m.items.eq(m.current).css("z-index",2),m.items.eq(m.next).css("z-index",3).css(a).animate({left:0,top:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){m.items.css("z-index",1),$(this).css("z-index",2)}})})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{stripes:function(m){"undefined"==typeof m.opts.stripes&&(m.opts.stripes=1),"undefined"==typeof m.opts.orientation&&(m.opts.orientation="vertical"),m.items.hide().eq(0).show();var ns=m.opts.stripes,_w="width",_h="height",o="vertical"==m.opts.orientation?_w:_h,__o=o==_w,_o=__o?_h:_w,d=__o?"left":"top",_d=__o?"top":"left",s=parseInt(m.$element.css(o)),_s=parseInt(m.$element.css(_o)),S=s/ns;m.$element.on("moodular.prev moodular.next",function(){$("#stripes_wrapper",m.$element).remove(),m.items.hide().eq(m.next).show().css("z-index",1);var C=m.items.eq(m.current).html();c="";for(var i=0;ns>i;i++)c+='<div style="position:absolute;'+d+":"+i*S+"px;"+_d+":0;"+o+":"+S+"px;"+_o+":"+_s+'px;overflow:hidden;"><div style="margin-'+d+":-"+i*S+"px;"+o+":"+s+"px;"+_o+":"+_s+'px">'+C+"</div></div>";m.$element.prepend("<"+m.opts.selector+' id="stripes_wrapper" style="z-index:2;position:absolute;">'+c+"</div>"),$("#stripes_wrapper>div",m.$element).each(function(i){var a={};a[_d]=i%2?"100%":"-100%",$(this).animate(a,.75*m.opts.speed,m.opts.easing)}),clearTimeout(m.mTimer),m.mTimer=setTimeout(function(){$("#stripes_wrapper",m.$element).remove()},m.opts.speed)})}})}(window.jQuery),function($){$.extend($.fn.moodular.effects,{top:function(m){"undefined"==typeof m.opts.view&&(m.opts.view=1);var percent=100/m.opts.view;m.items.css("top","100%").height(percent+"%");for(var i=0;i<m.opts.view+m.opts.step;i++)m.items.eq(i).css("top",i*percent+"%");var s="="+percent*m.opts.step+"%";m.$element.on("moodular.next",function(){if(1==m.opts.view)m.items.eq(m.current).css("top",0).animate({top:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("top","-100%")}}),m.items.eq(m.next).css("top","100%").animate({top:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems)for(var i=0;i<m.opts.view+m.opts.step;i++)m.items.eq((m.current+i)%m.nbItems).css("top",i*percent+"%").animate({top:"-"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}).on("moodular.prev",function(){if(1==m.opts.view)m.items.eq(m.current).css("top",0).animate({top:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue,complete:function(){$(this).css("top","100%")}}),m.items.eq(m.next).css("top","-100%").animate({top:0},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});else if(m.opts.view<m.nbItems){for(var i=0;i<m.opts.view;i++)m.items.eq((m.current+i)%m.nbItems).css("top",i*percent+"%").animate({top:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue});for(var i=1;i<=m.opts.step;i++)m.items.eq((m.current-i)%m.nbItems).css("top",-i*percent+"%").animate({top:"+"+s},{duration:m.opts.speed,easing:m.opts.easing,queue:m.opts.queue})}})}})}(window.jQuery);